{
  "name": "Busted",
  "tagline": "An npm package that detects improper iframe busting code",
  "body": "# Busted\r\n[![npm version](https://img.shields.io/npm/v/busted.svg)](https://www.npmjs.org/package/busted)\r\n[![npm downloads](https://img.shields.io/npm/dt/busted.svg)](https://www.npmjs.org/package/busted)\r\n[![Travis CI](https://travis-ci.org/nathanchapman/busted.svg)](https://travis-ci.org/nathanchapman/busted)\r\n[![Coverage Status](https://coveralls.io/repos/github/nathanchapman/busted/badge.svg?branch=master)](https://coveralls.io/github/nathanchapman/busted?branch=master)\r\n[![Code Climate Grade](https://codeclimate.com/github/nathanchapman/busted/badges/gpa.svg)](https://codeclimate.com/github/nathanchapman/busted)\r\n[![bitHound Overall Score](https://www.bithound.io/github/nathanchapman/busted/badges/score.svg)](https://www.bithound.io/github/nathanchapman/busted)\r\n[![GitHub license](https://img.shields.io/github/license/nathanchapman/busted.svg)](https://github.com/nathanchapman/busted/blob/master/LICENSE)\r\n\r\n<img width=\"300\" src=\"http://www.dafont.com/forum/attach/orig/5/5/554705.png\">\r\n\r\nAn npm package that detects improper iframe busting code and incorrect HTTP headers. \"Clickjacking\" is a malicious technique of tricking users into clicking on invisible iframes, and thus performing sensitive actions like sharing data or bank transfers without their knowledge. This tool attempts to find and offer suggestions to patch these vulnerabilities in your web applications. Also included are an [Electron](http://electron.atom.io/) application, [Chrome extension](https://chrome.google.com/webstore/detail/busted/nhlicbgagiecfehanppnblhoglonondm), and an [Arachni](http://www.arachni-scanner.com/) check.\r\n\r\n\r\n## Install npm package\r\n```sh\r\n$ npm install busted\r\n```\r\n\r\n## Usage\r\nIn a Node.js application (no DOM access to iframes, so only headers test is functional):\r\n```javascript\r\nvar busted = require('busted');\r\nvar URL = 'http://www.example.com';\r\nbusted.headersTest(URL, function(url, passed) {\r\n  console.log(url + (passed ? ' passed ' : ' failed ') + 'the headers test.');\r\n});\r\n```\r\n\r\nIn any Electron application (has DOM access so iframes can be tested):\r\n```javascript\r\nwindow.BUSTED = require('busted.js');\r\n\r\nvar URL = 'http://www.example.com';\r\nvar iframe = document.getElementById('frame');\r\niframe.src = URL;\r\n\r\nwindow.BUSTED.headersTest(URL, function(url, passed) {\r\n  console.log(url + (passed ? ' passed ' : ' failed ') + 'the headers test.');\r\n});\r\n\r\niframe.onload = function() {\r\n  var passed = window.BUSTED.iframeTest(URL, iframe);\r\n  console.log(URL + (passed ? ' passed ' : ' failed ') + 'the iframe test.');\r\n}\r\n```\r\n\r\n## Using our Electron app\r\nOur Electron app allows for scanning and testing URLs for the vulnerabilities.\r\n#### Install\r\n```sh\r\n$ git clone https://github.com/nathanchapman/busted.git && cd busted/electron && npm install\r\n```\r\n#### Starting the app\r\nFrom `busted/electron` run:\r\n```sh\r\n$ npm start\r\n```\r\n\r\n## Arachni Web Scanner Check\r\nAn Arachni check that tests headers and parses JavaScript for improper frame-busting code.\r\n#### Install Arachni\r\nDownload and install [Arachni](http://www.arachni-scanner.com/download/).\r\n#### Install Busted\r\n```sh\r\n$ git clone https://github.com/nathanchapman/busted.git\r\n```\r\nMove the `arachni/clickjacking.rb` file to:\r\n`[ARACHNI_DIRECTORY]/system/gems/gems/arachni-1.4/components/checks/passive`\r\nfrom within `[ARACHNI_DIRECTORY]` run the following:\r\n```sh\r\n$ bin/arachni --checks=clickjacking --scope-page-limit 1 --browser-cluster-pool-size 1 SOME_URL_OR_FILE\r\n```\r\nfor more information, see the [Arachni CLI guide](https://github.com/Arachni/arachni/wiki/Command-line-user-interface).\r\n\r\n\r\n## Clickjacking Prevention\r\nThere are other attacks that are site-specific or are possible if the attacker controls certian domain names. These attacks cannot be tested here, but we will attempt to prevent them with this two-fold solution.\r\n\r\n__Headers:__ Set X-Frame-Options header to DENY or SAMEORIGIN\r\n\r\n__Frame Busting Code:__ Use the following frame busting code as a solution for older browsers that do not support X-Frame-Options or Content-Security-Policy headers.\r\n```html\r\n<!-- Source: http://w2spconf.com/2010/papers/p27.pdf -->\r\n<style>\r\nhtml { display: none; }\r\n</style>\r\n<script>\r\nif (self == top) {\r\n  document.documentElement.style.display = 'block';\r\n} else {\r\n  top.location = self.location;\r\n}\r\n</script>\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}